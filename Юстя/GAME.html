<!DOCTYPE html>
<html>
<head>
	<title>Yustia</title>
	<link rel="stylesheet" type="text/css" href="game.css">
</head>
<body>
	<h1>hamster love</h1>
<div id="moneta" >$</div>
<div id="SCORE" >Your score is: 0</div>
<img src="gika-tv-img-0621.gif" id="hero">
<script type="text/javascript">

let keyRight = false;
let keyLeft = false;
let keyTop = false;
let keyBottom = false;
let score = 0;
let x = 0;
let y = 0;
document.addEventListener("keydown",press)
document.addEventListener("keyup",unpress)
let intersection = function(a,b){
	return a.left+a.width>=b.left
	&& b.left+b.width>=a.left
	&& a.top + a.height >= b.top
	&& b.top + b.height >= a.top
}

function press(event){
	if (event.keyCode==39) {keyRight=true}
	if (event.keyCode==40) {keyBottom=true}
	if (event.keyCode==37) {keyLeft=true}
	if (event.keyCode==38) {keyTop=true}
}

function unpress(event){
	if (event.keyCode==39) {keyRight=false}
	if (event.keyCode==40) {keyBottom=false}
	if (event.keyCode==37) {keyLeft=false}
	if (event.keyCode==38) {keyTop=false}
}

function game () {
	let hero1=hero.getBoundingClientRect()
	let moneta1=moneta.getBoundingClientRect()
	if (intersection(hero1,moneta1)) {
		moneta.style.left=`${Math.random()*(window.innerWidth-moneta1.width)}px`
		moneta.style.top=`${Math.random()*(window.innerHeight-moneta1.height)}px`
	score++; 
	SCORE.innerHTML=`Your score is: ${score}`;
	}
	if (keyRight) {x+=5; hero.style.left=`${x}px`;
	if (hero1.left+hero1.width>=document.body.scrollWidth) {x-=5}}


	if (keyLeft) {x-=5; hero.style.left=`${x}px`;
	if (hero1.left<=0) {x+=5}}
	

	if (keyBottom) {y+=5; hero.style.top=`${y}px`;
	if (hero1.top+hero1.height>=window.innerHeight) {y-=5}
}
	

	if (keyTop) {y-=5; hero.style.top=`${y}px`;
	if (hero1.top<=0) {y+=5}}

	requestAnimationFrame(game)
}
requestAnimationFrame(game)
</script>
</body>
</html>