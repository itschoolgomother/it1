<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		canvas{
			border: 1px solid black;
		}
	</style>
</head>
<body>
	<canvas width="1000" height="800" id="tank" ></canvas>
	<script type="text/javascript">
		let cnv = document.getElementById("tank");
		let ctx = cnv.getContext('2d');
		let tank = new Image();
		tank.src ="tank.png";
		let bullet = new Image();
		bullet.src ="bullet.png"
		let tx = 0;
		let ty = 0;
		let keyR = false;
		let keyL = false;
		let keyU = false;
		let keyD = false;
		let w = 100;
		let h = 100;

document.addEventListener("keydown",pressed)
document.addEventListener("keyup",unpressed)
		function game() {
			ctx.clearRect(0,0,cnv.width,cnv.height)
			ctx.drawImage(tank,tx,ty,w,h);
			if (keyL) {
				tx -= 20;
			}
			if (keyR) {
				tx += 20;
			}
			if (keyD) {
				ty -= 20;
			}
			if (keyU) {
				ty += 20;
			}
		}
		setInterval(game,100)
		function pressed(e){
			console.log(e.keyCode);
			if(e.keyCode == 65){
				keyL = true;
			}
			if(e.keyCode == 68){
				keyR = true;
			}
			if(e.keyCode == 83){
				keyU = true;
			}
			if(e.keyCode == 87){
				keyD = true;
			}
		}
		function unpressed(e){
			console.log(e.keyCode);
			if(e.keyCode == 65){
				keyL = false;
				makebullet()
			}
			if(e.keyCode == 68){
				keyR = false;
			}
			if(e.keyCode == 83){
				keyU = false;
			}
			if(e.keyCode == 87){
				keyD = false;

			}
		}
		function bullets(x,y,w,h) {
			this.x = x;
			this.y = y;
			this.w = w;
			this.h = h;
		}
		let bulletarr =[ ];
		function makebullet(){
			let x = tx;    
			let y = ty
			let w = 20;
			let h = 20;
			let bull = new bullets(x,y,w,h)
			bulletarr.push(bull)
			drawbullet()
			}
		function drawbullet() {
				for(let i=0;i<bulletarr.length;i++){
					let bull = bulletarr[i]
					ctx.drawImage(bullet,bull.x,bull.y,bull.w,bull.h)
					bull.y++
				}
			}	

	</script>
</body>
</html>